<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:custom="ent.ui.ecommerce.controller.controls">
    <ResponsivePopover
        id="NotificationPopup"
        placement="Bottom"
        contentWidth="400px">
        <customHeader>
            <OverflowToolbar >
                <content>
                    <Title text="Notifications"></Title>
                    <ToolbarSpacer ></ToolbarSpacer>
                    <Button visible="{= ${appView>/Notification}.length !== 0 ? true : false}" type="Emphasized" text="Mark All As Read" icon="sap-icon://multiselect-all" press="markAllAsReadNotification"></Button>
                </content>
            </OverflowToolbar>
        </customHeader>
        <content>
            <List noDataText="No Notifications" id="notificationList" growing="true" sticky="HeaderToolbar" growingScrollToLoad="true" growingThreshold="10" items="{appView>/Notification}" mode="None"  itemPress="onNavigationByNotification">
                <headerToolbar>
                    <OverflowToolbar >
                        <SearchField liveChange="liveSearchNotification" placeholder="Notification Search" id="searchNotification"></SearchField>
                    </OverflowToolbar>
                </headerToolbar>
                <items>
                    <custom:customListItem type="Active" >
                         <HBox width="100%" justifyContent="SpaceBetween" alignItems="Start">
                            <VBox class="sapUiSmallMargin">
                                <HBox alignItems="Center" >
                                    <Title text="{appView>Title}" class="sapUiTinyMarginTop"></Title>
                                    <ObjectStatus
                                        class="sapUiSmallMarginBegin"
                                        text="New"
                                        inverted="true"
                                        state="Information" 
                                        visible="{path: 'appView>CreatedOn', formatter: '.formatter.isNewNotification'}"/>
                                </HBox>
                                <Text text="{appView>Description}"></Text>
                                <Label text="{path: 'appView>CreatedOn', formatter: '.formatter.formatNotificationTime'}" class="sapUiTinyMarginTop"></Label>
                            </VBox>
                            <Button 
                                icon="sap-icon://email-read"
                                text="Mark as read" 
                                type="Neutral" 
                                press="onSingleMarkAsRead"
                                class="sapUiTinyMargin"
                                tooltip="Mark As Read"/>
                            <!-- <Button 
                                icon="sap-icon://decline" 
                                type="Transparent" 
                                press="onDeleteNotification"
                                class="sapUiTinyMargin"
                                tooltip="Delete"/> -->
                        </HBox>
                    </custom:customListItem>
                </items>
            </List>
        </content>
    </ResponsivePopover>
</core:FragmentDefinition>
