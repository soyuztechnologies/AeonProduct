<core:FragmentDefinition xmlns:core="sap.ui.core"
 xmlns="sap.m"
 xmlns:unified="sap.ui.unified"
 xmlns:f="sap.ui.layout.form"
 xmlns:RTE="sap.ui.richtexteditor"
 xmlns:html="http://www.w3.org/1999/xhtml">
 <Dialog showHeader="false" title="" contentHeight="100%" contentWidth="100%" stretch="true" id="EmailTemplate">
  <subHeader>
   <Toolbar>
    <Title text="{appView>/EmailTitle}" />
    <ToolbarSpacer/>
    <unified:FileUploader id="AttachmentUploader"
                        fileType="pdf"
                        uploadUrl=""
                        sameFilenameAllowed="true"
                        change="onAttachmentUpload"
                        buttonText="Add Attachment"
                        style="Emphasized"
                        placeholder="Upload PDF Attachment"
                        uploadOnChange="false"
                        width="400px"
                        visible="{= ${appView>/Email/ReadOnly} === true || ${appView>/Email/PDF_NAME} ? false : true}"/>
   </Toolbar>
  </subHeader>
  <content>
   <VBox class="sapUiTinyMargin">
    <f:SimpleForm editable="true" layout="ResponsiveGridLayout" singleContainerFullSize="true">
     <f:content>
      <Label text="Email To" required="true"/>
      <Input value="{appView>/Email/EMAIL_TO}" type="Email" id="EMAIL_TO" required="true" placeholder="example@gmail.com" editable="{= ${appView>/Email/ReadOnly} === true ? false : true}"/>
      <Label text="Email CC" />
      <Input id="EMAIL_CC" value="{appView>/Email/EMAIL_CC}" type="Email" placeholder="example1@gmail.com, example2@gmail.com,..." editable="{= ${appView>/Email/ReadOnly} === true ? false : true}"/>
      <Label text="Email BCC" />
      <Input id="EMAIL_BCC" value="{appView>/Email/EMAIL_BCC}" type="Email" placeholder="example1@gmail.com, example2@gmail.com,..." editable="{= ${appView>/Email/ReadOnly} === true ? false : true}"/>
      <Label text="Subject" required="true" />
      <Input id="EMAIL_SUBJECT" value="{appView>/Email/EMAIL_SUBJECT}" required="true" type="Text" editable="{= ${appView>/Email/ReadOnly} === true ? false : true}"/>
      <Label text="Body" required="true"/>
      <VBox >
        <RTE:RichTextEditor id="EMAIL_BODY" visible="true" value="{appView>/Email/EMAIL_BODY}" editorType="TinyMCE6" customToolbar="true" showGroupFont="true" height="450px" width="100%" editable="{= ${appView>/Email/ReadOnly} === true ? false : true}"></RTE:RichTextEditor>
      </VBox>
      <Label text="Attachment" visible="{= ${appView>/Email/PDF_NAME} ? true : false}"/>
      <HBox alignItems="Center">
          <!-- <Text text="{appView>/Email/PDF_NAME}" class="sapUiSmallMarginBegin"
                visible="{= ${appView>/Email/PDF_NAME} ? true : false}"/>  -->

          <!-- Preview Button -->
          <Button icon=""
                  text="{appView>/Email/PDF_NAME}"
                  type="Transparent"
                  class="sapUiTinyMarginBegin"
                  visible="{= ${appView>/Email/PDF_NAME} ? true : false}"
                  press="onPreviewAttachment"/>

          <!-- Remove Button -->
          <Button icon="sap-icon://decline"
                  type="Transparent"
                  class="sapUiTinyMarginBegin"
                  visible="{= ${appView>/Email/PDF_NAME} ? true : false}"
                  press="onRemoveAttachment"/>
      </HBox>

     </f:content>
    </f:SimpleForm>
   </VBox>
  </content>
  <buttons>
   <Button id="idSendMail" class="sapUiSmallMargin" icon="sap-icon://paper-plane" text="Send" type="Accept" press="handleSendMail" visible="{= ${appView>/Email/ReadOnly} === true ? false : true}"/>
   <Button icon="sap-icon://sys-cancel" press="handleCloseMail" text="Close" type="Emphasized" iconFirst="true" width="auto" enabled="true" visible="true" iconDensityAware="false"/>
  </buttons>
 </Dialog>
</core:FragmentDefinition>